{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the Vocalize Feedback platform, primarily Makers who create forms.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the user entity." },
        "orgId": { "type": "string", "description": "Reference to the Organization this user belongs to. (Relationship: Organization 1:N User)" },
        "email": { "type": "string", "description": "The user's email address.", "format": "email" },
        "displayName": { "type": "string", "description": "The user's display name." },
        "createdAt": { "type": "string", "description": "Timestamp indicating when the user account was created.", "format": "date-time" },
        "updatedAt": { "type": "string", "description": "Timestamp indicating when the user account was last updated.", "format": "date-time" }
      },
      "required": ["id", "orgId", "email", "createdAt", "updatedAt"]
    },
    "Organization": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Organization",
      "type": "object",
      "description": "Represents an organization or team using the Vocalize Feedback platform. Makers belong to an organization.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the organization entity." },
        "name": { "type": "string", "description": "The name of the organization." },
        "ownerUid": { "type": "string", "description": "Reference to the User who owns the organization. (Relationship: User 1:N Organization)" },
        "plan": { "type": "string", "description": "The subscription plan of the organization (e.g., 'free', 'basic', 'premium')." },
        "createdAt": { "type": "string", "description": "Timestamp indicating when the organization was created.", "format": "date-time" },
        "updatedAt": { "type": "string", "description": "Timestamp indicating when the organization was last updated.", "format": "date-time" }
      },
      "required": ["id", "name", "ownerUid", "plan", "createdAt", "updatedAt"]
    },
    "Form": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Form",
      "type": "object",
      "description": "Represents a feedback form created by a user.",
      "properties": {
        "title": { "type": "string", "description": "The title of the form." },
        "ownerUid": { "type": "string", "description": "The UID of the user who owns the form." },
        "questionCount": { "type": "number", "description": "The number of questions in the form." },
        "createdAt": { "type": "string", "format": "date-time", "description": "Timestamp of when the form was created." },
        "updatedAt": { "type": "string", "format": "date-time", "description": "Timestamp of when the form was last updated." }
      },
      "required": ["title", "ownerUid", "createdAt", "updatedAt"]
    },
    "Question": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Question",
      "type": "object",
      "description": "Represents a single question within a form.",
      "properties": {
        "text": { "type": "string", "description": "The text content of the question." },
        "order": { "type": "number", "description": "The display order of the question within the form." }
      },
      "required": ["text", "order"]
    },
    "Submission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Submission",
      "type": "object",
      "description": "Represents a user's submission for a single question in a form.",
      "properties": {
        "formId": { "type": "string", "description": "The ID of the form this submission belongs to." },
        "questionId": { "type": "string", "description": "The ID of the question being answered." },
        "questionText": { "type": "string", "description": "The text of the question at the time of submission." },
        "submitterUid": { "type": "string", "description": "The UID of the user who submitted the answer, if authenticated." },
        "transcription": { "type": "string", "description": "The transcribed text of the voice answer." },
        "audioUrl": { "type": "string", "description": "URL to the stored audio file in Cloud Storage." },
        "createdAt": { "type": "string", "format": "date-time", "description": "Timestamp of when the submission was created." }
      },
      "required": ["formId", "questionId", "questionText", "transcription", "createdAt"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous", "google.com"]
  },
  "firestore": {
    "structure": [
      {
        "path": "users/{userId}",
        "definition": {
          "schema": { "$ref": "#/entities/User" },
          "description": "Stores user profile data."
        }
      },
      {
        "path": "forms/{formId}",
        "definition": {
          "schema": { "$ref": "#/entities/Form" },
          "description": "Stores the main data for each form."
        }
      },
      {
        "path": "forms/{formId}/questions/{questionId}",
        "definition": {
          "schema": { "$ref": "#/entities/Question" },
          "description": "Stores the questions for a specific form."
        }
      },
      {
        "path": "submissions/{submissionId}",
        "definition": {
          "schema": { "$ref": "#/entities/Submission" },
          "description": "Stores individual answers/submissions for all forms."
        }
      }
    ]
  }
}
